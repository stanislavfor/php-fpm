## Контроль версий углублённо (GIT)

<br>
<br>

### Урок 1. Работа с удалёнными репозиториями
#### Домашнее задание

1. Выберите какой-нибудь проект на изучаемом вами языке программирования, с которым вы будете тренироваться работать в Git, и инициализируйте в папке этого проекта локальный репозиторий.
2. Создайте непустой удалённый репозиторий (например, с файлом README.md) с именем, соответствующим имени этого проекта.
3. Подключите свой проект к этому удалённому репозиторию и отправьте в него код этого проекта. Самостоятельно разрешите конфликты и проблемы, если они возникнут при выполнении данного задания.

### Команды создания нового репозитория через командную строку Git Bash
```
echo "# php-fpm" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/stanislavfor/php-fpm.git
git push -u origin main

```

<br>
<br>
<hr>
<hr>

## Инструкция для создания WEB приложения на PHP

<br>
<br>

### Необходимые файлы конфигурации и настройки Docker Compose для запуска Nginx, PHP-FPM и Memcache

Даны необходимые шаги для настройки рабочего окружения для PHP-проекта с использованием Docker Desktop, Nginx и PHP-FPM.


1. Создание файлов конфигурации

```
php-fpm/
├── code/
│   └── index.php
├── fpm/
│   ├── Dockerfile
│   └── php.ini
├── nginx/
│   ├── Dockerfile
│   └── hosts/
│       └── mysite.local.conf
└── docker-compose.yaml
```
<br>

- docker-compose.yaml - этот файл определяет сервисы для Nginx, PHP-FPM и Memcache.
- fpm/Dockerfile - этот Dockerfile устанавливает PHP-FPM с необходимыми расширениями и настраивает php.ini.


## 2. Настройка хостов на Windows

Для доступа к сайту по адресу http://mysite.local:85, необходимо добавить запись в файл hosts Windows.<br>

Нужно открыть файл C:\Windows\System32\drivers\etc\hosts с правами администратора и добавить в конец файла:

```
127.0.0.1 mysite.local

```

## 3. Запуск Docker контейнеров

- Запустить программу Docker Desktop на компьютере.<br>

- Открыть терминал (PowerShell или Командную строку) и перейти в корневую директорию проекта php-fpm.<br>

- Выполнить команду для сборки и запуска контейнеров:

```
docker-compose up -d --build

, где 
-d запускает контейнеры в фоновом режиме.
--build принудительно пересобирает образы.

```

- Проверить, что все контейнеры запущены:
```
docker-compose ps

```

## 4. Доступ к проекту

Открыть браузер и перейти по адресу: 

```
http://mysite.local:85

```
Получиться увидеть вывод index.php, включая текущее время и информацию о PHP.

<br>
<br>
<hr>

### Дополнительные команды Docker

- Остановка контейнеров:
```
docker-compose down

```
- Пересборка (обновление) контейнеров:
```
docker-compose up -d --build

```
- Просмотр логов:
```
docker-compose logs -f

```

- Проверка выводов команды:
```
docker-compose logs php-fpm

```

<br>
<br>
<hr>

#### Примечания

Необходимо убедиться, что порты 85 и 11211 не заняты другими приложениями на компьютере. <br>
Если требовалось изменить файлы конфигурации после первого запуска контейнеров, нужно использовать команду пересборки (--build) для применения изменений.<br>
Для установки дополнительных PHP-расширений или настройки Nginx, нужно изменять соответствующие Dockerfile и конфигурационные файлы.<br>
